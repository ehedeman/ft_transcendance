<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Pong Game</title>
	<link href="styles.css" rel="stylesheet" />
</head>
<div>
	<header>
		<h1 id="maintitle"
			style="position:absolute; z-index: 1; left: 50%; top: 0%; color:black; transform: translateX(-50%);"
			class="text-4xl font-bold mb-8">Pong Game</h1>
	</header>
	<label for="gameScreen">
		<button id="loginButton"
			style="position: absolute; z-index: 2; left: 25%; top: 70px; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Log in
		</button>
		<button id="registerButton"
			style="position: absolute; z-index: 2; left: 50%; top: 70px; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Register
		</button>
		<button id="settingsButton"
			style="position: absolute; z-index: 2;left: 95%; top: 2%; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Settings
		</button>
	</label>

	<body id="gameScreen " class="bg-gray-900 flex items-center justify-center h-screen text-white">
		<div id="settings"
			style="display:none; position:fixed; flex-grow:1; display:none; flex-direction:column; top:20%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10; width: 300px;">
			<div style="display:flex; flex-direction:column;  justify-content:space-between; align-items:center; height:100%;">
				<h2 id="settingsHeader"></h2>
				<form id="settingsForm" method="post"
					style="flex-grow:1; display:flex; flex-direction:column; margin-bottom:10px; justify-content:space-between; align-items:center;">
					<input type="text" id="settingsName" name="name" required="false" />
					<input type="text" id="settingsUsername" name="username" required="false" />
					<input type="password" id="settingsPassword" name="password" />
					<input type="text" id="settingsCountry" name="country" required="false" />

					<div id="avatarContainer" style="text-align:center; margin-bottom:10px; margin-top:10px;">
						<img id="avatarPreviewSettings" src="avatars/default-avatar.png" alt="Avatar"
							style="width:100px; height:100px; border-radius:50%; cursor:pointer;" />
						<input type="file" id="avatarUpload" name="avatar" accept="image/*" style="display:none;" />
					</div>
					<div style="display: flex; gap: 10px;">
						<button style="flex: 1;" type="button" id="showSettingsPassword"
							class="bg-blue-500 text-white px-4 py-2 rounded">Show Password</button>
						<button style="flex: 1;" type="submit" id="settingsSave"
							class="bg-blue-500 text-white px-4 py-2 rounded">Save</button>
						<button style="flex: 1;" type="button" id="settingsDeleteAccount"
							class="bg-blue-500 text-white px-4 py-2 rounded">Delete Account</button>
					</div>
				</form>
				<form id="settingsLogin" method="post"
					style="flex-grow:1; display:flex; flex-direction:column; margin-bottom:10px; justify-content:space-between;">
					<input type="text" id="settingsLoginUsername" name="username" placeholder="Username"
						required="true" />
					<input type="password" id="settingsLoginPassword" name="password" placeholder="Password"
						required="true" />

					<button type="submit" id="settingsLoginSubmit" class="bg-blue-500 text-white px-4 py-2 rounded">Log
						In</button>
				</form>
				<button style="flex-grow:1; gap: 10px;" type="button" id="settingsCancel" 
					class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Cancel</button>
			</div>
		</div>
		<div id="generalRegistrationModal"
			style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10; width:300px;">
			<div>
				<h2>
					Register
				</h2>
				<form id="generalRegistrationForm" method="post"
					style="flex-grow:1; display:flex; flex-direction:column; justify-content:space-between;">
					<div>
						<input type="text" id="registerName" name="name" placeholder="Name" required="true" />
						<input type="text" id="registerUsername" name="username" placeholder="Username"
							required="true" />
						<input type="password" id="registerPassword" name="password" placeholder="Password"
							required="true" />
						<input type="country" id="registerCountry" name="country" placeholder="Country"
							required="true" />
						<div>
							<label for="registerAvatar" style="cursor:pointer;">
								<img id="registerAvatarImg" src="avatars/default-avatar.png"
									style="width:64px; height:64px; border-radius:8px; border:2px solid #aaa;"
									alt="Select your avatar" />
							</label>
							<input type=" file" id="registerAvatar" name="avatar" accept="image/*"
								style="display:none;" />
							<img id="avatarPreview" src="default-avatar.png"
								style="width:64px; height:64px; display:none;" />
						</div>
					</div>
					<div style="margin-top:20px;">
						<button type="button" id="showRegisterPassword"
							class="bg-blue-500 text-white px-4 py-2 rounded">Show Password</button>
						<button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Continue</button>
						<button type="button" id="generalCancelRegistration"
							class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Cancel</button>
					</div>
				</form>
			</div>
		</div>
		<div id="generalLoginModal"
			style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10; width:300px;">
			<div style="display:flex; flex-direction:column; height:100%;">
				<h2>
					Login
				</h2>
				<form id="generalLoginForm" method="post"
					style="flex-grow:1; display:flex; flex-direction:column; justify-content:space-between;">
					<div>
						<input type="text" id="loginUsername" name="username" placeholder="Username" required="true" />
						<input type="password" id="loginPassword" name="password" placeholder="Password"
							required="true" />
					</div>
					<div style="margin-top:20px;">
						<button type="button" id="showLoginPassword"
							class="bg-blue-500 text-white px-4 py-2 rounded">Show Password</button>
						<button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Continue</button>
						<button type="button" id="CancelGeneralLogin"
							class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Cancel</button>
					</div>
				</form>
			</div>
		</div>
		<div id="tournamentRegistrationModal"
			style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10; width: 300px;">
			<div style="display:flex; flex-direction:column; height:100%;">
				<h2 id="tournamentRegisterHeader">
					Register Tournament Players
				</h2>
				<form id="tournamentRegistrationForm"
					style="flex-grow:1; display:flex; flex-direction:column; justify-content:space-between;">
					<div>
						<input type="text" id="tournamentUsername" name="username" placeholder="Username"
							required="true" />
						<input type="password" id="tournamentPassword" name="password" placeholder="Password"
							required="true" />
					</div>
					<div style="margin-top:20px;">
						<button type="button" id="showTournamentPassword"
							class="bg-blue-500 text-white px-4 py-2 rounded">Show Password</button>
						<button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Continue</button>
						<button type="button" id="CancelGeneralTournament"
							class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Cancel</button>
					</div>
				</form>
			</div>
		</div>
		<div id="tournamentResults"
			style="display:none; position:fixed; top:20%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10;">
			<h2>Tournament Results</h2>
			<ol id="placementList"></ol>
		</div>
		<button id="tournamentFinishContinue"
			style="display:none; position: absolute; z-index: 2;left: 50%; top: 10%; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Continue
		</button>
		<button id="tournamentResetButton"
			style="display:none; position: absolute; z-index: 2;left: 50%; top: 10%; transform: translateX(-50%);"
			class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mb-4">
			Reset Tournament
		</button>
		<div>
			<label for="playSelect">Play</label>
			<select id="playSelect"
				style="position: absolute; z-index: 2; left: 75%; top: 70px; transform: translateX(-50%);">
				<option value="" disabled selected>Play</option>
				<option value="tournament">Tournament</option>
				<option value="multiplayer">Multiplayer</option>
				<option value="1v1">1v1</option>
			</select>
			<div id="WinnerScreen"
				style="display:none; position:fixed; top:30%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10;">
				<h2 id="WinnerScreenText"></h2>
				<button type="button" id="WinnerScreenContinue"
					class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Continue</button>
			</div>
		</div>
		<div>
			<canvas tabindex='1' id="gameCanvas" class="border-4 border-white"
				style="position: absolute; left: 50%; top: 120px; transform: translateX(-50%);">
			</canvas>
		</div>
		<div
			style="position: absolute; display: flex; top: calc(120px + 620px); left: 50%; transform: translateX(-50%);">
			<div>
				<header style="position: absolute;">Friends</header>
			</div>
			<ul id="friendList" style="border: 1px solid #000000;">
				<li>Please login to see friends</li>
			</ul>
			<ul id="friendList2"
				style="margin-left: 20px; width: 200px; max-width: 200px; max-height: 75px; overflow-y: auto; padding-left: 20px; border: 1px solid #000000; overflow-x: auto;">
				<li>Please click a friend to see the history...</li>
			</ul>
			<button id="addFriend" class="bg-blue-500 text-white px-4 py-2 rounded">Add Friend</button>
			<ul id="friendRequestsList"
				style="margin-left: 20px; width: 100px; max-width: 100px; max-height: 75px; overflow-y: auto; padding-left: 20px; border: 1px solid #000000; overflow-x: auto;">
				<li>Your new friend requests will appear here</li>
			</ul>
		</div>
		<div
			style="position: absolute; display: flex; top: calc(120px + 620px + 120px); left: 50%; transform: translateX(-50%);">
			<input type="text" id="inputMessageBox" placeholder="Please input your message here..."
				class="border rounded px-2 py-1" style="width: 400px;" />
			<button id="sendMessage" class="bg-blue-500 text-white px-4 py-2 rounded">Send Message</button>
		</div>
		<script type="module" src="/index.js"></script>
	</body>
</div>

</html>

<!-- buttons etc overlap when resizing window -->
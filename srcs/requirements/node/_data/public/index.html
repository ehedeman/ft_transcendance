<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Pong Game</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap');
		
		html {
			height: 100%;
			margin: 0;
		}
		
		body {
			min-height: 100%;
			margin: 0;
			padding: 0;
			background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%) fixed;
			background-size: cover;
			background-attachment: fixed;
			color: rgb(254, 250, 250);
			font-family: 'Montserrat', sans-serif;
		}
		
		#maintitle {
			color: #ffffff;
			text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);
			font-weight: 700;
			letter-spacing: 1px;
		}
		
		button, select, input {
			font-family: 'Montserrat', sans-serif;
			border-radius: 8px;
			transition: all 0.2s ease;
		}
		
		button:hover {
			transform: translateY(-2px);
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
		}
		
		.game-card {
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			border-radius: 16px;
			border: 1px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
		}
		
		.nav-button {
			background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
			border: none;
			font-weight: 600;
		}
		
		.action-button {
			background: linear-gradient(135deg, #0061ff 0%, #60efff 100%);
			border: none;
			font-weight: 600;
		}
		
		.cancel-button {
			background: linear-gradient(135deg, #8e9eab 0%, #eef2f3 100%);
			border: none;
			font-weight: 600;
			color: #2c3e50;
		}
		
		#gameCanvas {
			border-radius: 16px;
			box-shadow: 0 12px 32px rgba(0, 0, 0, 0.3);
			border: 2px solid rgba(255, 255, 255, 0.3) !important;
		}
	</style>
</head>

<body id="gameScreen">
	<header>
		<h1 id="maintitle"
			style="position:absolute; z-index: 1; left: 50%; top: 0%; transform: translateX(-50%); font-size: 42px;"
			class="text-4xl font-bold mb-8">Pong Game</h1>
	</header>
	<label for="gameScreen">
		<div class="nav-container" style="position: absolute; top: 90px; left: 0; right: 0; z-index: 2; display: flex; justify-content: space-around; padding: 0 40px;">
			<div style="display: flex; gap: 20px;">
				<button id="loginButton"
					style="position: relative; padding: 10px 24px;"
					class="nav-button text-white font-bold py-2 px-6 rounded mb-4">
					Log in
				</button>
				<button id="logoutButton"
					style="position: relative; display: none; padding: 10px 24px; margin-right: 30px;"
					class="nav-button text-white font-bold py-2 px-6 rounded mb-4">
					Log out
				</button>
				<button id="registerButton"
					style="position: relative; padding: 10px 24px;"
					class="nav-button text-white font-bold py-2 px-6 rounded mb-4">
					Register
				</button>
			</div>
			
			<div style="display: flex; gap: 20px;">
				<button id="globalDashboardButton"
					style="display:none; padding: 10px 24px;"
					class="nav-button text-white font-bold py-2 px-6 rounded mb-4">
					Global Stats
				</button>
				
				<button id="dashboardButton"
					style="display:none; padding: 10px 24px;"
					class="nav-button text-white font-bold py-2 px-6 rounded mb-4">
					Dashboard
				</button>
				
				<select id="playSelect"
					style="position: relative; display: none; padding: 10px 24px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; border: none; font-weight: 600; appearance: none; padding-right: 30px; cursor: pointer;">
					<option value="" disabled selected>Play</option>
					<option value="tournament">Tournament</option>
					<option value="multiplayer">Multiplayer</option>
					<option value="1v1">1v1</option>
				</select>
			</div>
			
			</div>
		</div>
		
		<button id="settingsButton"
			style="position:absolute; z-index: 2; right: 20px; top: 20px; display: flex; align-items: center; justify-content: center; width: 50px; height: 50px; border-radius: 50%; font-size: 20px;"
			class="nav-button text-white">
			⚙️
		</button>
		
		<div id="WinnerScreen" style="display:none; position:absolute; top:30%; left:50%; transform:translateX(-50%); background: rgba(255, 255, 255, 0.95); padding:30px; border-radius:16px; z-index:10; box-shadow: 0 10px 30px rgba(0,0,0,0.3); text-align: center;">
			<h2 id="WinnerScreenText" style="color: #2c3e50; font-size: 28px; margin-bottom: 20px;"></h2>
			<button type="button" id="WinnerScreenContinue"
				class="action-button text-white px-6 py-3 rounded">Continue</button>
		</div>
	</label>

	<settings-components></settings-components>
	<registration-components></registration-components>
	<login-components></login-components>
	<tournament-components></tournament-components>
	<two-player-match></two-player-match>
	<multiplayer-match></multiplayer-match>

	<div class="game-card" style="position:absolute; left: 50%; top: 140px; transform: translateX(-50%); padding: 20px;">
		<canvas tabindex='1' id="gameCanvas" class="border-2" style="position: relative;"></canvas>
	</div>

	<friend-components></friend-components>
	
	<div id="dashboardView" class="game-card"
		style="display:none; position:absolute; top:160px; left:50%; transform:translateX(-50%);
		background:rgba(255,255,255,0.95); color:#2c3e50; padding:30px; border-radius:16px; width:80%; max-width:1000px; max-height:600px; overflow-y:auto; z-index:5; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
		<h2 style="text-align:center; font-weight: 700; font-size: 28px; margin-bottom: 20px; color: #2c3e50;">Your Dashboard</h2>
			
			<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
				<div style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
					<h3 style="margin-top:0; margin-bottom: 15px; font-size: 18px;">Match Results</h3>
					<canvas id="matchPieChart" style="width:100%; max-height:250px;"></canvas>
				</div>
				<div style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
					<h3 style="margin-top:0; margin-bottom: 15px; font-size: 18px;">Performance</h3>
					<canvas id="matchBarChart" style="width:100%; max-height:250px;"></canvas>
				</div>
			</div>
			
			<div style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
				<h3 style="margin-top:0; margin-bottom: 15px; font-size: 18px;">Recent Matches</h3>
				<ul id="dashboardMatchHistoryList" style="max-height:200px; overflow-y:auto; padding-left: 0; list-style-type: none;"></ul>
			</div>
			
			<button id="closeDashboard"
				class="action-button text-white px-6 py-3 rounded mt-4 block mx-auto" style="font-size: 16px;">Close</button>
		</div>

		<div id="globalDashboardView" class="game-card"
			style="display:none; position:absolute; top:160px; left:50%; transform:translateX(-50%);
		background:rgba(255,255,255,0.95); color:#2c3e50; padding:30px; border-radius:16px; width:80%; max-width:1000px; max-height:600px; overflow-y:auto; z-index:5; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
			<h2 style="text-align:center; font-weight: 700; font-size: 28px; margin-bottom: 20px; color: #2c3e50;">Global Game Stats</h2>
			
			<div style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
				<h3 style="margin-top:0; margin-bottom: 15px; font-size: 18px;">Game Activity</h3>
				<canvas id="globalMatchTypeChart" style="width:100%; max-height:250px;"></canvas>
			</div>

			<div style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px;">
				<h3 style="margin-top:0; margin-bottom: 15px; font-size: 18px;">Leaderboard</h3>
				<div style="max-height: 200px; overflow-y: auto;">
					<table id="leaderboardTable" style="width:100%; border-collapse:collapse; text-align:left;"></table>
				</div>
			</div>

			<div style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
				<h3 style="margin-top:0; margin-bottom: 15px; font-size: 18px;">Recent Matches</h3>
				<ul id="globalRecentMatches" style="max-height:200px; overflow-y:auto; padding-left: 0; list-style-type: none;"></ul>
			</div>

			<button id="closeGlobalDashboard"
				class="action-button text-white px-6 py-3 rounded mt-4 block mx-auto" style="font-size: 16px;">Close</button>
		</div>
	
	<div id="matchHistory" class="game-card"
		style="position:absolute; display: none; top: calc(140px + 620px + 70px); left: 50%; transform: translateX(-50%); padding: 25px; width: 940px;">
		<h2 style="margin-top: 0; color: #ffffff; font-weight: 600; font-size: 24px; margin-bottom: 15px; text-align: center;">Match History</h2>
		<div style="border-radius: 8px; overflow: hidden;">
			<ul id="matchHistoryList" style="width: 100%; max-height: 250px; overflow-y: auto; background-color: rgba(0,0,0,0.4); margin: 0 auto; padding: 20px; list-style-type: none; border-radius: 8px;">
				<li style="padding: 12px; text-align: center; color: rgba(255,255,255,0.7); border-bottom: 1px solid rgba(255,255,255,0.1);">Your match history will appear here.</li>
			</ul>
		</div>
	</div>
	<script type="module" src="/index.js"></script>
</body>

</html>

<!-- buttons etc overlap when resizing window -->
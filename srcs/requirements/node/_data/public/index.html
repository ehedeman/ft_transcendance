<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Pong Game</title>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<objects>
	<header>
		<h1 id="maintitle"
			style="position:absolute; z-index: 1; left: 50%; top: 0%; color:black; transform: translateX(-50%);"
			class="text-4xl font-bold mb-8">Pong Game</h1>
	</header>
	<label for="gameScreen">
		<button id="loginButton"
			style="position:absolute; z-index: 2; left: 25%; top: 70px; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Log in
		</button>
		<button id="logoutButton"
			style="position:absolute; display: none; z-index: 2; left: 25%; top: 70px; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Log out
		</button>
		<button id="registerButton"
			style="position:absolute; z-index: 2; left: 50%; top: 70px; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Register
		</button>
		<button id="settingsButton"
			style="position:absolute; z-index: 2;left: 95%; top: 2%; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Settings
		</button>
		<!-- <button id="leaveGameButton"
			style="display: none; position:absolute; z-index: 2; left: 50%; top: 70px; transform: translateX(-50%);"
			class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
			Leave Game
		</button> -->
		<div>
			<select id="playSelect"
				style="position:absolute; display: none; z-index: 2; left: 75%; top: 70px; transform: translateX(-50%);">
				<option value="" disabled selected>Play</option>
				<option value="tournament">Tournament</option>
				<option value="multiplayer">Multiplayer</option>
				<option value="1v1">1v1</option>
			</select>
			<div id="WinnerScreen"
				style="display:none; position:absolute; top:30%; left:50%; transform:translateX(-50%); background:white; padding:20px; border-radius:8px; z-index:10;">
				<h2 id="WinnerScreenText"></h2>
				<button type="button" id="WinnerScreenContinue"
					class="bg-gray-500 text-white px-4 py-2 rounded ml-2">Continue</button>
			</div>
		</div>
	</label>

	<body id="gameScreen " class="bg-gray-900 flex items-center justify-center h-screen text-white">

		<settings-components></settings-components>
		<registration-components></registration-components>
		<login-components></login-components>
		<tournament-components></tournament-components>
		<two-player-match></two-player-match>
		<multiplayer-match></multiplayer-match>

		<canvas tabindex='1' id="gameCanvas" class="border-4 border-white"
			style="position:absolute; left: 50%; top: 120px; transform: translateX(-50%);"></canvas>

		<friend-components></friend-components>

		<button id="dashboardButton"
			style="display:none; position:absolute; z-index:2; left:85%; top:70px; transform: translateX(-50%);"
			class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Dashboard</button>

		<div id="dashboardView"
			style="display:none; position:absolute; top:150px; left:50%; transform:translateX(-50%);
		 background:white; color:black; padding:20px; border-radius:10px; width:80%; max-width:1000px; max-height:600px; overflow-y:auto; z-index:5;">
			<h2 style="text-align:center;">Your Dashboard</h2>
			<canvas id="matchPieChart" style="width:100%; max-height:300px;"></canvas>
			<canvas id="matchBarChart" style="width:100%; max-height:300px;"></canvas>
			<h3 style="margin-top:20px;">Match History</h3>
			<ul id="dashboardMatchHistoryList" style="max-height:200px; overflow-y:auto;"></ul>
			<button id="closeDashboard"
				class="bg-gray-500 text-white px-4 py-2 rounded mt-4 block mx-auto">Close</button>
		</div>

		<button id="globalDashboardButton"
			style="display:none; position:absolute; top:70px; left:50%; transform:translateX(-50%);"
			class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded">Global Stats</button>


		<div id="globalDashboardView"
			style="display:none; position:absolute; top:150px; left:50%; transform:translateX(-50%);
    background:white; color:black; padding:20px; border-radius:10px; width:80%; max-width:1000px; max-height:600px; overflow-y:auto; z-index:5;">
			<h2 style="text-align:center;">Global Game Stats</h2>
			<canvas id="globalMatchTypeChart" style="width:100%; max-height:300px;"></canvas>

			<h3 style="margin-top:20px;">Leaderboard</h3>
			<table id="leaderboardTable" style="width:100%; border-collapse:collapse; text-align:left;"></table>

			<h3 style="margin-top:20px;">Recent Matches</h3>
			<ul id="globalRecentMatches" style="max-height:200px; overflow-y:auto;"></ul>

			<button id="closeGlobalDashboard"
				class="bg-gray-500 text-white px-4 py-2 rounded mt-4 block mx-auto">Close</button>
		</div>

		<div id="messages"
			style="position:absolute; display: none; top: calc(120px + 620px + 20px + 120px); left: 50%; transform: translateX(-50%);">
			<input type="text" id="inputMessageBox" placeholder="Please input your message here..."
				class="border rounded px-2 py-1" style="width: 400px;" />
			<button id="sendMessage" class="bg-blue-500 text-white px-4 py-2 rounded">Send Message</button>
		</div>
		<div id="matchHistory"
			style="position:absolute; display: none; top: calc(120px + 620px + 20px + 120px + 50px); left: 50%; transform: translateX(-50%);">
			<h2>Match History</h2>
			<ul id="matchHistoryList" style="width: 1000px; max-height: 400px; overflow-y: auto;">
				<li>Your match history will appear here.</li>
			</ul>
		</div>
		<script type="module" src="/index.js"></script>
	</body>
</objects>

</html>

<!-- buttons etc overlap when resizing window -->